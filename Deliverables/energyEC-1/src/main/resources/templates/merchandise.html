<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script th:src="@{/js/script.js}" defer></script>
    <title>energyEC</title>
</head>

<body>
    <header>
        <a th:href="@{index}">
            <h1>energyEC</h1>
        </a>
        <div class="menuBtn">
            <span class="menuLine"></span>
        </div>
        <div class="overlayNav">
            <nav class="gNav">
                <ul class="hidn">
                    <li class="nabItem"><a th:href="@{/index}">HOME</a></li>
                    <li class="nabItem"><a th:href="@{/merchandise}">MERCHANDISE</a></li>
                    <li class="nabItem"><a th:href="@{/inquiry}">INQUIRY</a></li>
                </ul>

            </nav>
        </div>
    </header>
    <main>
        <section class="product">
            <h1>商品一覧</h1>
            <div class="cont">
                <div th:each="p : ${products}" class="product-item">
                    <h3 th:text="${p.productName}"></h3>
                    <img th:src="${p.productImages}" alt="商品画像">
                    <p th:text="${p.productDescription}"></p>

                    <p>価格：<span th:text="${p.productPrice}"></span> 円</p>
                    <p th:if="${p.categoryId == 1}">カテゴリー：シュガー</p>
                    <p th:if="${p.categoryId == 2}">カテゴリー：ノンシュガー</p>
                    <!-- 在庫ありの場合 -->
                    <div th:if="${p.stock > 0}">
                        <form th:action="@{/confirm}" method="post">
                            <input type="hidden" name="productId" th:value="${p.ProductId}" />
                            <input type="number" name="quantity" max="10" min="1" required />
                            <p><button type="submit">購入画面へ</button></p>
                        </form>
                    </div>
                    <!-- 在庫なしの場合 -->
                    <div th:if="${p.stock == 0}">
                        <p style="color:red">在庫切れ</p>
                        <button disabled>購入不可</button>

                    </div>
                </div>
            </div>

        </section>

    </main>
    <footer>
        <div class="container">
            &copy; 2025 - energyEC - <a th:href="@{/inquiry}">お問い合わせはこちら</a>
        </div>
    </footer>
</body>

</html>